var $=Object.defineProperty;var A=(a,t,i)=>t in a?$(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var y=(a,t,i)=>A(a,typeof t!="symbol"?t+"":t,i);import{c as o,r,j as e,d as J,T as P,U as F}from"./index-D2sJkQB5.js";import{C as V}from"./check-circle-t40r0rX3.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=o("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=o("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=o("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=o("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=o("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=o("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=o("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),d=class d{constructor(){y(this,"settings");y(this,"STORAGE_KEY","soccer_coach_settings");this.settings=this.loadSettings()||this.getDefaultSettings()}static getInstance(){return d.instance||(d.instance=new d),d.instance}getDefaultSettings(){return{theme:"light",language:"zh-CN",notifications:{trainingReminder:!0,achievementNotification:!0,weeklyReport:!1},trainingGoals:{weeklyTrainingTarget:12,accuracyTarget:80},privacy:{shareData:!1,analyticsEnabled:!0}}}loadSettings(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load settings:",t)}return null}saveSettings(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.settings))}catch(t){console.error("Failed to save settings:",t)}}getSettings(){return{...this.settings}}updateTheme(t){this.settings.theme=t,this.saveSettings(),this.applyTheme()}updateLanguage(t){this.settings.language=t,this.saveSettings()}updateNotificationSetting(t,i){this.settings.notifications[t]=i,this.saveSettings()}updateTrainingGoal(t,i){this.settings.trainingGoals[t]=i,this.saveSettings()}updatePrivacySetting(t,i){this.settings.privacy[t]=i,this.saveSettings()}resetSettings(){this.settings=this.getDefaultSettings(),this.saveSettings(),this.applyTheme()}exportSettings(){return JSON.stringify(this.settings,null,2)}importSettings(t){try{const i=JSON.parse(t);return this.settings={...this.getDefaultSettings(),...i},this.saveSettings(),this.applyTheme(),!0}catch(i){return console.error("Failed to import settings:",i),!1}}applyTheme(){const t=document.documentElement,i=this.settings.theme;i==="dark"?t.classList.add("dark"):i==="light"?t.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?t.classList.add("dark"):t.classList.remove("dark")}getTheme(){return this.settings.theme}getLanguage(){return this.settings.language}};y(d,"instance");let c=d;function _(){const[a,t]=r.useState(null),[i,l]=r.useState(!1),[M,p]=r.useState(!1),[R,N]=r.useState(!1),[j,h]=r.useState(12),[f,x]=r.useState(80);r.useEffect(()=>{const n=c.getInstance().getSettings();t(n),h(n.trainingGoals.weeklyTrainingTarget),x(n.trainingGoals.accuracyTarget)},[]);const E=s=>{c.getInstance().updateTheme(s),t({...a,theme:s})},G=s=>{c.getInstance().updateLanguage(s),t({...a,language:s})},v=(s,n)=>{c.getInstance().updateNotificationSetting(s,n),t({...a,notifications:{...a.notifications,[s]:n}})},k=(s,n)=>{c.getInstance().updatePrivacySetting(s,n),t({...a,privacy:{...a.privacy,[s]:n}})},I=()=>{const s=c.getInstance();s.updateTrainingGoal("weeklyTrainingTarget",j),s.updateTrainingGoal("accuracyTarget",f),l(!0),setTimeout(()=>l(!1),3e3)},L=()=>{const n=c.getInstance().exportSettings(),g=new Blob([n],{type:"application/json"}),m=URL.createObjectURL(g),u=document.createElement("a");u.href=m,u.download="soccer-coach-settings.json",u.click(),URL.revokeObjectURL(m)},D=s=>{var g;const n=(g=s.target.files)==null?void 0:g[0];if(n){const m=new FileReader;m.onload=u=>{var T;const U=(T=u.target)==null?void 0:T.result,S=c.getInstance();if(S.importSettings(U)){const w=S.getSettings();t(w),h(w.trainingGoals.weeklyTrainingTarget),x(w.trainingGoals.accuracyTarget),l(!0),setTimeout(()=>l(!1),3e3)}},m.readAsText(n)}},z=()=>{const s=c.getInstance();s.resetSettings();const n=s.getSettings();t(n),h(n.trainingGoals.weeklyTrainingTarget),x(n.trainingGoals.accuracyTarget),p(!1),l(!0),setTimeout(()=>l(!1),3e3)},O=()=>{localStorage.clear(),sessionStorage.clear(),N(!1),window.location.reload()};return a?e.jsxs("div",{className:"space-y-6",children:[i&&e.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 z-50 animate-pulse",children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:"设置已保存"})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(K,{className:"w-5 h-5 mr-2 green-accent"}),e.jsx("span",{className:"text-white",children:"外观设置"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"主题"}),e.jsx("p",{className:"text-sm text-gray-400",children:"选择您喜欢的主题颜色"})]}),e.jsx("div",{className:"flex space-x-2",children:["light","dark","system"].map(s=>e.jsxs("button",{onClick:()=>E(s),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a.theme===s?"btn-green":"input-dark hover:bg-white/10"}`,children:[s==="light"&&"浅色",s==="dark"&&"深色",s==="system"&&"跟随系统"]},s))})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"语言"}),e.jsx("p",{className:"text-sm text-gray-400",children:"选择界面显示语言"})]}),e.jsxs("select",{value:a.language,onChange:s=>G(s.target.value),className:"input-dark px-4 py-2 rounded-lg text-sm focus:outline-none",children:[e.jsx("option",{value:"zh-CN",children:"简体中文"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ja",children:"日本語"})]})]})})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(J,{className:"w-5 h-5 mr-2 green-accent"}),e.jsx("span",{className:"text-white",children:"通知设置"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"训练提醒"}),e.jsx("p",{className:"text-sm text-gray-400",children:"在训练开始前收到提醒"})]}),e.jsx("button",{onClick:()=>v("trainingReminder",!a.notifications.trainingReminder),className:`toggle-switch ${a.notifications.trainingReminder?"active":""}`})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"成就通知"}),e.jsx("p",{className:"text-sm text-gray-400",children:"获得新成就时发送通知"})]}),e.jsx("button",{onClick:()=>v("achievementNotification",!a.notifications.achievementNotification),className:`toggle-switch ${a.notifications.achievementNotification?"active":""}`})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"每周报告"}),e.jsx("p",{className:"text-sm text-gray-400",children:"每周发送训练报告"})]}),e.jsx("button",{onClick:()=>v("weeklyReport",!a.notifications.weeklyReport),className:`toggle-switch ${a.notifications.weeklyReport?"active":""}`})]})})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(P,{className:"w-5 h-5 mr-2 green-accent"}),e.jsx("span",{className:"text-white",children:"训练目标"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"每周训练目标"}),e.jsx("p",{className:"text-sm text-gray-400",children:"设置每周计划完成的训练次数"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>h(Math.max(1,j-1)),className:"w-8 h-8 input-dark rounded-lg flex items-center justify-center hover:bg-white/10",children:"-"}),e.jsx("input",{type:"number",value:j,onChange:s=>h(Math.max(1,parseInt(s.target.value)||1)),className:"input-dark w-20 px-3 py-2 text-center"}),e.jsx("button",{onClick:()=>h(j+1),className:"w-8 h-8 input-dark rounded-lg flex items-center justify-center hover:bg-white/10",children:"+"})]})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"准确度目标"}),e.jsx("p",{className:"text-sm text-gray-400",children:"设置视频分析的准确度目标（%）"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>x(Math.max(50,f-5)),className:"w-8 h-8 input-dark rounded-lg flex items-center justify-center hover:bg-white/10",children:"-"}),e.jsx("input",{type:"number",value:f,onChange:s=>x(Math.max(50,Math.min(100,parseInt(s.target.value)||50))),className:"input-dark w-20 px-3 py-2 text-center"}),e.jsx("button",{onClick:()=>x(Math.min(100,f+5)),className:"w-8 h-8 input-dark rounded-lg flex items-center justify-center hover:bg-white/10",children:"+"})]})]})})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(B,{className:"w-5 h-5 mr-2 green-accent"}),e.jsx("span",{className:"text-white",children:"隐私设置"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"数据共享"}),e.jsx("p",{className:"text-sm text-gray-400",children:"允许匿名共享训练数据以改进服务"})]}),e.jsx("button",{onClick:()=>k("shareData",!a.privacy.shareData),className:`toggle-switch ${a.privacy.shareData?"active":""}`})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"使用分析"}),e.jsx("p",{className:"text-sm text-gray-400",children:"帮助我们了解如何使用应用"})]}),e.jsx("button",{onClick:()=>k("analyticsEnabled",!a.privacy.analyticsEnabled),className:`toggle-switch ${a.privacy.analyticsEnabled?"active":""}`})]})})]})]}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-6 flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2 green-accent"}),e.jsx("span",{className:"text-white",children:"数据管理"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:L,className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg hover:bg-white/10 transition-colors text-left",children:[e.jsx(q,{className:"w-5 h-5 green-accent"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"导出设置"}),e.jsx("p",{className:"text-sm text-gray-400",children:"下载您的设置文件"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg hover:bg-white/10 transition-colors text-left cursor-pointer",children:[e.jsx(F,{className:"w-5 h-5 green-accent"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"导入设置"}),e.jsx("p",{className:"text-sm text-gray-400",children:"从文件导入设置"})]}),e.jsx("input",{type:"file",accept:".json",onChange:D,className:"hidden"})]}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg hover:bg-white/10 transition-colors text-left",children:[e.jsx(b,{className:"w-5 h-5 text-orange-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"重置设置"}),e.jsx("p",{className:"text-sm text-gray-400",children:"恢复默认设置"})]})]}),e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center space-x-3 p-4 bg-red-500/10 rounded-lg hover:bg-red-500/20 transition-colors text-left",children:[e.jsx(C,{className:"w-5 h-5 text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-400",children:"清除所有数据"}),e.jsx("p",{className:"text-sm text-red-300",children:"删除所有本地数据"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 text-gray-400 hover:text-white font-medium",children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{children:"重置为默认"})]}),e.jsxs("button",{onClick:I,className:"btn-green px-6 py-3 rounded-lg font-medium",children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{children:"保存设置"})]})]}),M&&e.jsx("div",{className:"modal-overlay fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"modal-content rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(b,{className:"w-8 h-8 text-orange-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"确认重置设置"})]}),e.jsx("p",{className:"text-gray-400 mb-6",children:"此操作将把所有设置恢复为默认值。此操作不可撤销。"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 input-dark rounded-lg text-gray-300 hover:bg-white/10 font-medium",children:"取消"}),e.jsx("button",{onClick:z,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium",children:"确认重置"})]})]})}),R&&e.jsx("div",{className:"modal-overlay fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"modal-content rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(C,{className:"w-8 h-8 text-red-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"确认清除数据"})]}),e.jsx("p",{className:"text-gray-400 mb-6",children:"此操作将删除所有本地数据，包括训练记录、设置和用户信息。此操作不可撤销。"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 input-dark rounded-lg text-gray-300 hover:bg-white/10 font-medium",children:"取消"}),e.jsx("button",{onClick:O,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 font-medium",children:"确认清除"})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:"加载中..."})}export{_ as default};
