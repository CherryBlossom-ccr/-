import{c as T,r as l,D,j as e,C as m,T as i}from"./index-D2sJkQB5.js";import{C as M}from"./check-circle-t40r0rX3.js";import{C as x}from"./clock-yCa-o4rw.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=T("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function H(){const[o,u]=l.useState([]),[g,h]=l.useState(0),[p,j]=l.useState(0),[b,f]=l.useState(0);l.useEffect(()=>{const a=D.getInstance().getTrainingSessions();u(a);const r=a.filter(t=>t.status==="completed").length,n=a.filter(t=>t.status==="upcoming").length;h(r),j(n);const C=a.filter(t=>t.status==="completed").reduce((t,S)=>{const d=parseInt(S.duration);return t+(isNaN(d)?0:d)},0);f(Math.round(C/60*10)/10)},[]);const N=s=>{switch(s){case"completed":return"bg-green-100 text-green-600 border-green-200";case"upcoming":return"bg-blue-100 text-blue-600 border-blue-200";case"missed":return"bg-red-100 text-red-600 border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},y=s=>{switch(s){case"completed":return"已完成";case"upcoming":return"即将开始";case"missed":return"已错过";default:return"未知"}},v=["周日","周一","周二","周三","周四","周五","周六"],w=new Date().toLocaleDateString("zh-CN",{month:"long",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:w}),e.jsx("p",{className:"text-sm text-gray-500",children:"训练计划安排"})]}),e.jsxs("button",{className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"添加训练"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-2 text-blue-600"}),"本月训练日历"]}),e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:v.map(s=>e.jsx("div",{className:"text-center text-sm font-medium text-gray-600 py-2",children:s},s))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:Array.from({length:31},(s,a)=>{const r=a+1,n=[1,3,5,8,10,12,15,17,19,22,24,26,29,31].includes(r),c=r===new Date().getDate();return e.jsx("div",{className:`
                    aspect-square flex items-center justify-center rounded-lg text-sm font-medium cursor-pointer transition-colors
                    ${c?"bg-blue-600 text-white":"hover:bg-gray-100 text-gray-700"}
                    ${n&&!c?"bg-blue-50 text-blue-600":""}
                  `,children:r},r)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(i,{className:"w-5 h-5 mr-2 text-green-600"}),"本周训练统计"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"已完成"})]}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:g})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"即将开始"})]}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:p})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"总训练时长"})]}),e.jsxs("span",{className:"text-lg font-bold text-gray-600",children:[b,"h"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-2 text-purple-600"}),"近期训练安排"]})}),e.jsx("div",{className:"divide-y",children:o.map(s=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"w-16 h-16 bg-blue-100 rounded-lg flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-xs text-blue-600",children:s.day}),e.jsx("span",{className:"text-xl font-bold text-blue-600",children:s.date.split("月")[1]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:s.type}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(x,{className:"w-4 h-4 mr-1"}),s.time]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(i,{className:"w-4 h-4 mr-1"}),s.duration]})]})]})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium border ${N(s.status)}`,children:y(s.status)})]})},s.id))})]})]})}export{H as default};
